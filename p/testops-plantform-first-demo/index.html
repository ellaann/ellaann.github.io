<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="前端通过Bootstrap框架，借助AdminLte模板实现交互样式；后端通过Python+Django实现参数传递；数据库通过sqlite3，实现数据读取保存。"><title>TestOps Plantform First Demo</title><link rel=canonical href=https://example.com/p/testops-plantform-first-demo/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="TestOps Plantform First Demo"><meta property="og:description" content="前端通过Bootstrap框架，借助AdminLte模板实现交互样式；后端通过Python+Django实现参数传递；数据库通过sqlite3，实现数据读取保存。"><meta property="og:url" content="https://example.com/p/testops-plantform-first-demo/"><meta property="og:site_name" content="Edrain’s Blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2020-01-08T23:51:50+08:00"><meta property="article:modified_time" content="2020-01-08T23:51:50+08:00"><meta name=twitter:title content="TestOps Plantform First Demo"><meta name=twitter:description content="前端通过Bootstrap框架，借助AdminLte模板实现交互样式；后端通过Python+Django实现参数传递；数据库通过sqlite3，实现数据读取保存。"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu04718f43846d3a80c201b09224e8894d_141671_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Edrain’s Blog</a></h1><h2 class=site-description>Hola!</h2></div></header><ol class=social-menu><li><a href=https://github.com/ellaann target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.jianshu.com/u/2ed38edf43dc target=_blank title=简书 rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19a9 9 0 019 0 9 9 0 019 0"/><path d="M3 6a9 9 0 019 0 9 9 0 019 0"/><path d="M3 6v13"/><path d="M12 6v13"/><path d="M21 6v13"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#项目实现功能>项目实现功能</a></li><li><a href=#一官方文档>一、官方文档</a></li><li><a href=#二初始化>二、初始化</a><ol><li><a href=#1创建项目>1、创建项目</a></li><li><a href=#2运行项目>2、运行项目</a></li><li><a href=#3创建应用>3、创建应用</a></li></ol></li><li><a href=#三编写第一个视图>三、编写第一个视图</a><ol><li><a href=#1打开-signviewspy>1、打开 <code>sign/views.py</code></a></li><li><a href=#2在-sign目录里新建一个-urlspy-文件>2、在 sign目录里新建一个 <code>urls.py</code> 文件</a></li><li><a href=#3在根-urlconf-文件中指定创建的-signurls-模块>3、在根 URLconf 文件中指定创建的 <code>sign.urls</code> 模块</a></li></ol></li><li><a href=#四通过templates来展示页面>四、通过templates来展示页面</a><ol><li><a href=#1在sign文件夹下面创建templates文件夹>1、在sign文件夹下面，创建<code>templates</code>文件夹</a></li><li><a href=#2创建signhtml文件>2、创建sign.html文件</a></li><li><a href=#3修改signurlspy文件>3、修改<code>sign/urls.py</code>文件</a></li><li><a href=#4修改settingspy文件新增sign文字>4、修改<code>settings.py</code>文件，新增<code>'sign',</code>文字</a></li></ol></li><li><a href=#五数据库配置>五、数据库配置</a><ol><li><a href=#1打开-test_opssettingspy-配置database>1、打开 <code>test_ops/settings.py</code> ,配置Database</a></li><li><a href=#2打开-test_opssettingspy-配置installed_apps>2、打开 <code>test_ops/settings.py</code> ,配置INSTALLED_APPS</a></li><li><a href=#3创建模型>3、创建模型</a></li><li><a href=#4当模型创建好以后执行数据库迁移>4、当模型创建好以后，执行数据库迁移</a></li></ol></li><li><a href=#六认证登录>六、认证登录</a><ol><li><a href=#1创建admin系统用户>1、创建admin系统用户</a></li><li><a href=#2输入用户密码信息>2、输入用户、密码信息</a></li></ol></li><li><a href=#七开发模式>七、开发模式</a><ol><li><a href=#1mvc开发模式>1、MVC开发模式</a></li><li><a href=#2mtv开发模式>2、MTV开发模式</a></li></ol></li><li><a href=#八小技巧>八、小技巧</a><ol><li><a href=#1去除模板中的硬编码-url>1、去除模板中的硬编码 URL</a></li><li><a href=#2为-url-名称添加命名空间>2、为 URL 名称添加命名空间</a></li><li><a href=#3httpreponsedirect使用软编码链接>3、HttpReponseDirect使用软编码链接</a></li></ol></li><li><a href=#九疑问>九、疑问</a><ol><li><a href=#q1dbsqlite3是什么>Q1：db.sqlite3是什么？</a></li><li><a href=#q2项目和应用区别>Q2:项目和应用区别？</a></li><li><a href=#q3pycharm提示unresolved-attribute-reference-objects-for-class-usermodel>Q3：Pycharm提示“Unresolved attribute reference &lsquo;objects&rsquo; for class &lsquo;UserModel&rsquo;”</a></li><li><a href=#q4use_tz时区问题>Q4：USE_TZ时区问题</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/testopsplantform/>TestOpsPlantform</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/testops-plantform-first-demo/>TestOps Plantform First Demo</a></h2><h3 class=article-subtitle>前端通过Bootstrap框架，借助AdminLte模板实现交互样式；后端通过Python+Django实现参数传递；数据库通过sqlite3，实现数据读取保存。</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jan 08, 2020</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><h1 id=testops-plantform-first-demo>TestOps Plantform First Demo</h1><h2 id=项目实现功能>项目实现功能</h2><p>1、注册</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/sign_up.png loading=lazy alt=image></p><p>2、登录</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/sign_in.png loading=lazy alt=image></p><p>3、登录后的主页显示</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/index.png loading=lazy alt=image></p><p>4、网站归纳</p><p>1）公司网站</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/company_websites_online.png loading=lazy alt=image></p><p>2）常用网站</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/common_websites.png loading=lazy alt=image></p><p>3）新增网站</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/add_new.gif loading=lazy alt=image></p><p>5、项目部署&上线</p><p>1）测试环境部署</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/test_env_deploy.png loading=lazy alt=image></p><p>2）通过dwebsocket,实现与服务器连接，输入查询指令后，页面的实时滚动</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/test_deploy.gif loading=lazy alt=image></p><p>6、SQL同步</p><p><img src=https://github.com/edrainann/TestOpsPlatform/raw/master/ReadMe_Photos/sql_sync.png loading=lazy alt=image></p><h2 id=一官方文档>一、官方文档</h2><p>Django中文官网: <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ target=_blank rel=noopener>https://docs.djangoproject.com/zh-hans/3.0/</a></p><p>Django英文官网: <a class=link href=https://docs.djangoproject.com/en/3.0/ target=_blank rel=noopener>https://docs.djangoproject.com/en/3.0/</a></p><h2 id=二初始化>二、初始化</h2><h3 id=1创建项目>1、创建项目</h3><p>使用 startproject 来创建项目</p><p><code>django-admin startproject edrainsite</code></p><p>项目显示：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>test_ops/
</span></span><span class=line><span class=cl>    manage.py
</span></span><span class=line><span class=cl>    test_ops/
</span></span><span class=line><span class=cl>        __init__.py
</span></span><span class=line><span class=cl>        settings.py
</span></span><span class=line><span class=cl>        urls.py
</span></span><span class=line><span class=cl>        asgi.py
</span></span><span class=line><span class=cl>        wsgi.py
</span></span></code></pre></td></tr></table></div></div><p>这些目录和文件的用处是：</p><ul><li>The outer <code>test_ops/</code> root directory is a container for your project. Its name doesn&rsquo;t matter to Django; you can rename it to anything you like.</li><li>manage.py: 一个让你用各种方式管理 Django 项目的命令行工具。你可以阅读 django-admin and manage.py 获取所有 manage.py 的细节。</li><li>里面一层的 test_ops/ 目录包含你的项目，它是一个纯 Python 包。它的名字就是当你引用它内部任何东西时需要用到的 Python 包名。 (比如 test_ops.urls).</li><li>test_ops/<strong>init</strong>.py：一个空文件，告诉 Python 这个目录应该被认为是一个 Python 包。如果你是 Python 初学者，阅读官方文档中的 更多关于包的知识。</li><li>test_ops/settings.py：Django 项目的配置文件。如果你想知道这个文件是如何工作的，请查看 Django 配置 了解细节。</li><li>test_ops/urls.py：Django 项目的 URL 声明，就像你网站的“目录”。阅读 URL调度器 文档来获取更多关于 URL 的内容。</li><li>test_ops/asgi.py: 兼容ASGI的Web服务器为您的项目提供服务的入口点。See How to deploy with ASGI for more details.</li><li>test_ops/wsgi.py：作为你的项目的运行在 WSGI 兼容的Web服务器上的入口。阅读 如何使用 WSGI 进行部署 了解更多细节。</li></ul><h3 id=2运行项目>2、运行项目</h3><p><code>py manage.py runserver 127.0.0.1:8028</code>
样就可以运行起来啦 打开网址：http://127.0.0.1:8028/ 进行校验</p><h3 id=3创建应用>3、创建应用</h3><p><code>py manage.py startapp sign</code></p><p>这些目录和文件的用处是：</p><ul><li><strong>migrations/：</strong> 用于记录models中数据的变更；</li><li><strong>admin.py：</strong> 映射models中的数据到Django自带的admin后台；</li><li><strong>apps.py：</strong> 用于应用程序的配置（在新的Django版本中新增文件）；</li><li><strong>models.py：</strong> Django的模型文件，创建应用程序数据表模型（对应数据库的相关操作）；</li><li><strong>tests.py：</strong> 创建Django测试用例；</li><li><strong>views.py：</strong> Django的视图文件，控制向前段页面显示的内容。</li></ul><h2 id=三编写第一个视图>三、编写第一个视图</h2><h3 id=1打开-signviewspy>1、打开 <code>sign/views.py</code></h3><p>把下面这些 Python 代码输入进去：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.http</span> <span class=kn>import</span> <span class=n>HttpResponse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>index</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>HttpResponse</span><span class=p>(</span><span class=s2>&#34;Hello, world. You&#39;re at the sign index.&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>这是 Django 中最简单的视图。如果想看见效果，我们需要将一个 URL 映射到它——这就是我们需要 URLconf 的原因了。</p><p>为了创建 URLconf，请在 sign目录里新建一个 <code>urls.py</code> 文件。</p><h3 id=2在-sign目录里新建一个-urlspy-文件>2、在 sign目录里新建一个 <code>urls.py</code> 文件</h3><p>输入如下代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.urls</span> <span class=kn>import</span> <span class=n>path</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>.</span> <span class=kn>import</span> <span class=n>views</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>views</span><span class=o>.</span><span class=n>index</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;index&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3在根-urlconf-文件中指定创建的-signurls-模块>3、在根 URLconf 文件中指定创建的 <code>sign.urls</code> 模块</h3><p>在 <code>test_ops/urls.py</code> 文件的 <code>urlpatterns</code> 列表里插入一个 <code>include()</code>， 如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.contrib</span> <span class=kn>import</span> <span class=n>admin</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.urls</span> <span class=kn>import</span> <span class=n>path</span><span class=p>,</span> <span class=n>include</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s1>&#39;admin/&#39;</span><span class=p>,</span> <span class=n>admin</span><span class=o>.</span><span class=n>site</span><span class=o>.</span><span class=n>urls</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s1>&#39;sign/&#39;</span><span class=p>,</span> <span class=n>include</span><span class=p>(</span><span class=s1>&#39;sign.urls&#39;</span><span class=p>)),</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>函数 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/urls/#django.urls.include target=_blank rel=noopener><code>include()</code></a> 允许引用其它 URLconfs。每当 Django 遇到 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/urls/#django.urls.include target=_blank rel=noopener><code>include()</code></a> 时，它会截断与此项匹配的 URL 的部分，并将剩余的字符串发送到 URLconf 以供进一步处理。</p><p><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/urls/#django.urls.include target=_blank rel=noopener><code>include()</code></a> 的理念是使其可以即插即用。因为sign应用有它自己的 URLconf( <code>sign/urls.py</code> )，他们能够被放在 &ldquo;/sign/&rdquo; ， &ldquo;/fun_sign/&rdquo; ，"/content/sign/"，或者其他任何路径下，这个应用都能够正常工作。</p><blockquote><p>当包括其它 URL 模式时你应该总是使用 <code>include()</code> ， <code>admin.site.urls</code> 是唯一例外。</p></blockquote><h2 id=四通过templates来展示页面>四、通过templates来展示页面</h2><h3 id=1在sign文件夹下面创建templates文件夹>1、在sign文件夹下面，创建<code>templates</code>文件夹</h3><h3 id=2创建signhtml文件>2、创建sign.html文件</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Sign<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Hello Web!<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3修改signurlspy文件>3、修改<code>sign/urls.py</code>文件</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.shortcuts</span> <span class=kn>import</span> <span class=n>render</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sign</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># return HttpResponse(&#34;Hello, world. You&#39;re at the sign index.&#34;)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>render</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=s1>&#39;sign.html&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4修改settingspy文件新增sign文字>4、修改<code>settings.py</code>文件，新增<code>'sign',</code>文字</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>INSTALLED_APPS</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.admin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.auth&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.contenttypes&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.sessions&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.messages&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.staticfiles&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1># 你项目的 TEMPLATES 配置项描述了 Django 如何载入和渲染模板。</span>
</span></span><span class=line><span class=cl>    <span class=c1># 默认的设置文件设置了 DjangoTemplates 后端，并将 APP_DIRS 设置成了 True。</span>
</span></span><span class=line><span class=cl>    <span class=c1># 这一选项将会让 DjangoTemplates 在每个 INSTALLED_APPS 文件夹中寻找 &#34;templates&#34; 子目录。</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;sign&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>你项目的 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-TEMPLATES target=_blank rel=noopener><code>TEMPLATES</code></a> 配置项描述了 Django 如何载入和渲染模板。默认的设置文件设置了 <code>DjangoTemplates</code> 后端，并将 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-TEMPLATES-APP_DIRS target=_blank rel=noopener><code>APP_DIRS</code></a> 设置成了 True。这一选项将会让 <code>DjangoTemplates</code> 在每个 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS target=_blank rel=noopener><code>INSTALLED_APPS</code></a> 文件夹中寻找 &ldquo;templates&rdquo; 子目录。这就是为什么尽管我们没有像在第二部分中那样修改 DIRS 设置，Django 也能正确找到 polls 的模板位置的原因。</p><p>输入网址：<a class=link href=http://127.0.0.1:8028/sign/ target=_blank rel=noopener>http://127.0.0.1:8028/sign/</a></p><h2 id=五数据库配置>五、数据库配置</h2><p>Django 提供完善的模型（model）层主要用来创建和存取数据，不需要我们直接对数据库操作。</p><p><strong>Django模型的基础知识：</strong></p><ul><li>每个模型是一个Python类，继承<strong>django.db.models.Model类</strong></li><li>该模型的每个属性表示一个数据库表字段</li><li>所有这一切，已经给了你一个自动生成数据库访问的API</li></ul><h3 id=1打开-test_opssettingspy-配置database>1、打开 <code>test_ops/settings.py</code> ,配置Database</h3><p>这是个包含了 Django 项目设置的 Python 模块。通常，这个配置文件使用 SQLite 作为默认数据库。如果你不熟悉数据库，或者只是想尝试下 Django，这是最简单的选择。Python 内置 SQLite，所以你无需安装额外东西来使用它。当你开始一个真正的项目时，你可能更倾向使用一个更具扩展性的数据库，例如 PostgreSQL，避免中途切换数据库这个令人头疼的问题。</p><p>如果你想使用其他数据库，你需要安装合适的 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/topics/install/#database-installation target=_blank rel=noopener>database bindings</a> ，然后改变设置文件中 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASES target=_blank rel=noopener><code>DATABASES</code></a> <code>'default'</code> 项目中的一些键值：</p><ul><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASE-ENGINE target=_blank rel=noopener><code>ENGINE</code></a> &ndash; 可选值有 <code>'django.db.backends.sqlite3'</code>，<code>'django.db.backends.postgresql'</code>，<code>'django.db.backends.mysql'</code>，或 <code>'django.db.backends.oracle'</code>。其它 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/databases/#third-party-notes target=_blank rel=noopener>可用后端</a>。</li><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-NAME target=_blank rel=noopener><code>NAME</code></a> - 数据库的名称。如果使用的是 SQLite，数据库将是你电脑上的一个文件，在这种情况下， <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-NAME target=_blank rel=noopener><code>NAME</code></a> 应该是此文件的绝对路径，包括文件名。默认值 <code>os.path.join(BASE_DIR, 'db.sqlite3')</code> 将会把数据库文件储存在项目的根目录。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Database</span>
</span></span><span class=line><span class=cl><span class=c1># https://docs.djangoproject.com/en/3.0/ref/settings/#databases</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>DATABASES</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;default&#39;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;ENGINE&#39;</span><span class=p>:</span> <span class=s1>&#39;django.db.backends.sqlite3&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;NAME&#39;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>BASE_DIR</span><span class=p>,</span> <span class=s1>&#39;db.sqlite3&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=2打开-test_opssettingspy-配置installed_apps>2、打开 <code>test_ops/settings.py</code> ,配置INSTALLED_APPS</h3><p><code>test_ops/settings.py</code>文件头部的 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS target=_blank rel=noopener><code>INSTALLED_APPS</code></a> 设置项。这里包括了会在你项目中启用的所有 Django 应用。应用能在多个项目中使用，你也可以打包并且发布应用，让别人使用它们。</p><p>通常， <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS target=_blank rel=noopener><code>INSTALLED_APPS</code></a> 默认包括了以下 Django 的自带应用：</p><ul><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/contrib/admin/#module-django.contrib.admin target=_blank rel=noopener><code>django.contrib.admin</code></a> &ndash; 管理员站点。</li><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/topics/auth/#module-django.contrib.auth target=_blank rel=noopener><code>django.contrib.auth</code></a> &ndash; 认证授权系统。</li><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/contrib/contenttypes/#module-django.contrib.contenttypes target=_blank rel=noopener><code>django.contrib.contenttypes</code></a> &ndash; 内容类型框架。</li><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/topics/http/sessions/#module-django.contrib.sessions target=_blank rel=noopener><code>django.contrib.sessions</code></a> &ndash; 会话框架。</li><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/contrib/messages/#module-django.contrib.messages target=_blank rel=noopener><code>django.contrib.messages</code></a> &ndash; 消息框架。</li><li><a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/contrib/staticfiles/#module-django.contrib.staticfiles target=_blank rel=noopener><code>django.contrib.staticfiles</code></a> &ndash; 管理静态文件的框架。</li></ul><p>这些应用被默认启用是为了给常规项目提供方便。</p><p>默认开启的某些应用需要至少一个数据表，所以，在使用他们之前需要在数据库中创建一些表。请执行以下命令：</p><p><code>...\> py manage.py migrate</code></p><blockquote><p>就像之前说的，为了方便大多数项目，我们默认激活了一些应用，但并不是每个人都需要它们。如果你不需要某个或某些应用，你可以在运行 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-migrate target=_blank rel=noopener><code>migrate</code></a> 前毫无顾虑地从 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS target=_blank rel=noopener><code>INSTALLED_APPS</code></a> 里注释或者删除掉它们。 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-migrate target=_blank rel=noopener><code>migrate</code></a> 命令只会为在 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS target=_blank rel=noopener><code>INSTALLED_APPS</code></a> 里声明了的应用进行数据库迁移。</p></blockquote><h3 id=3创建模型>3、创建模型</h3><p>在sign/models.py文件中，新增</p><h3 id=4当模型创建好以后执行数据库迁移>4、当模型创建好以后，执行数据库迁移</h3><p><strong>使用如下命令进行数据库表的初始化和创建（迁移）：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>运行 python manage.py makemigrations sign 为模型的改变生成迁移文件。
</span></span><span class=line><span class=cl>运行 python manage.py migrate 来应用数据库迁移。
</span></span></code></pre></td></tr></table></div></div><h2 id=六认证登录>六、认证登录</h2><h3 id=1创建admin系统用户>1、创建admin系统用户</h3><p><code>...\> python manage.py createsuperuser</code></p><h3 id=2输入用户密码信息>2、输入用户、密码信息</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>py manage.py createsuperuser
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sername (leave blank to use &#39;edrain&#39;): admin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>mail address: admin@mail.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Password:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>assword (again):
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>his password is too short. It must contain at least 8 characters.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>his password is too common.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ypass password validation and create user anyway? [y/N]: y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>uperuser created successfully.
</span></span></code></pre></td></tr></table></div></div><h2 id=七开发模式>七、开发模式</h2><p>这段话在Django官方文档也曾出现过：鼓励松耦合以及对应用程序中不同部分的严格分割。</p><h3 id=1mvc开发模式>1、MVC开发模式</h3><p>MVC：Model-View-Controller</p><ul><li>model：数据存取层。</li><li>view：表现逻辑，代表的是系统中选择显示什么和怎么显示的部分。</li><li>controller：业务逻辑，代表系统中根据用户输入及需要访问模型，使用哪个视图的哪部分。</li></ul><p>对应到Django后：</p><ul><li>Model：数据存取部分，由Django数据库层处理；</li><li>View：表现逻辑，选择显示哪些数据要显示以及怎样显示的部分，由Django的视图和模板处理；</li><li>Controller：业务逻辑，由Django根据URLconf设置，对给定URL调用适当的Python函数。</li></ul><h3 id=2mtv开发模式>2、MTV开发模式</h3><p>由于Controller由框架自行处理，而Django里更关注的是模型（Model）、模板（Template）、视图（View），因此Django也被称为MTV框架。</p><p>MTV：Model-Template-Views</p><ul><li>Model：模型，数据存取层，该层处理与数据相关的所有事务，即如何存取、如果验证有效等；</li><li>Template：模板，表现层，该层处理与表现相关的所有事务，即如何在页面或者其他类型文档中进行显示；</li><li>View：视图，业务逻辑层，该层包含存取模型及调取恰当模板的相关逻辑，可以看作是模型和模板之间的桥梁。</li></ul><h2 id=八小技巧>八、小技巧</h2><h3 id=1去除模板中的硬编码-url>1、去除模板中的硬编码 URL</h3><p>1）修改<code>sign/templates/sign/sign_in.html</code>文件</p><p>当发送登录请求时，链接是硬编码的：</p><p><code>&lt;form action="/login_action/" method="post"></code></p><p>问题在于，硬编码和强耦合的链接，对于一个包含很多应用的项目来说，修改起来是十分困难的。然而，因为你在 <code>sign.urls</code> 的 <a class=link href=https://docs.djangoproject.com/zh-hans/3.0/ref/urls/#django.conf.urls.url target=_blank rel=noopener><code>url()</code></a> 函数中通过 name 参数为 URL 定义了名字，你可以使用 <code>{% url %}</code> 标签代替它。</p><p>替代如下：</p><p><code>&lt;form action="{% url 'login_action' %}" method="post"></code></p><p>这个标签的工作方式是在 <code>sign.urls</code> 模块的 URL 定义中寻具有指定名字的条目。你可以回忆一下，具有名字 &rsquo;login_action&rsquo; 的 URL 是在如下语句中定义的。</p><p>2）修改<code>sign/urls.py</code>文件，新增<code>name='login_action'</code></p><p><code>path('login_action/', views.login_action, name='login_action'), # name的值可以在html中关联{% url 'xxx' %} template tag</code></p><p>如果你想改变登录视图的 URL，比如想改成 sign/edrain/login_action/ ，你不用在模板里修改任何东西（包括其它模板），只要在<code>sign/urls.py</code> 里稍微修改一下就行。</p><p>修改如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># added the word &#39;edrain&#39;
</span></span><span class=line><span class=cl>path(&#39;edrain/login_action/&#39;, views.login_action, name=&#39;login_action&#39;),
</span></span></code></pre></td></tr></table></div></div><h3 id=2为-url-名称添加命名空间>2、为 URL 名称添加命名空间</h3><p>Django 如何知道 <code>{% url %}</code> 标签到底对应哪一个应用的 URL 呢？</p><p>1）在根 URLconf 中添加命名空间。在 <code>sign/urls.py</code> 文件中稍作修改，加上 <code>app_name</code> 设置命名空间：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.urls</span> <span class=kn>import</span> <span class=n>path</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>.</span> <span class=kn>import</span> <span class=n>views</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app_name</span> <span class=o>=</span> <span class=s1>&#39;sign&#39;</span>  <span class=c1># 设置命名空间</span>
</span></span><span class=line><span class=cl><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>views</span><span class=o>.</span><span class=n>sign</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;sign&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>(</span><span class=s1>&#39;login_action/&#39;</span><span class=p>,</span> <span class=n>views</span><span class=o>.</span><span class=n>login_action</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;login_action&#39;</span><span class=p>),</span>  <span class=c1># name的值可以在html中关联{% url &#39;xxx&#39; %} template tag</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>2）修改sign/templates/sign/sign_in.html文件,</p><p>从<code>&lt;form action="{% url 'login_action' %}" method="post"></code></p><p>修改为指向具有命名空间的详细视图，变更为：</p><p><code>&lt;form action="{% url 'sign:login_action' %}" method="post"></code></p><h3 id=3httpreponsedirect使用软编码链接>3、HttpReponseDirect使用软编码链接</h3><p>硬编码链接：可以通过使用HttpResponseRedirect(&rsquo;/index/?page=2&rsquo;)直接获取第2页的文章列表</p><p>HttpReponseDirect只支持hard coded urls(硬编码链接), 不能直接使用命名的URL，如使用HttpResponseDirect(&lsquo;blog:article_list‘)是错误的。</p><p>在使用URL命名时，我们需要先通过URL反向解析方法reverse先对命名URL(article_list)进行解析，然后再使用HttpReponseRedirect定向(如下面的代码)。背后的逻辑是reverse(&lsquo;blog:article_list&rsquo;)=&rsquo;/index/&rsquo;。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>login_action</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;执行 登录按钮 操作后的界面&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;POST&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>username</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>POST</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>  <span class=c1># 此处对应表单的form中的input的 name属性</span>
</span></span><span class=line><span class=cl>        <span class=n>password</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>POST</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>username</span> <span class=o>==</span> <span class=s1>&#39;qwer&#39;</span> <span class=ow>and</span> <span class=n>password</span> <span class=o>==</span> <span class=s1>&#39;qwer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>HttpResponseRedirect</span><span class=p>(</span><span class=n>reverse</span><span class=p>(</span><span class=s1>&#39;sign:home&#39;</span><span class=p>))</span>  <span class=c1># 对路径重定向，成功登陆之后重新指向 /sign/home/ 页面</span>
</span></span></code></pre></td></tr></table></div></div><p>链接：https://blog.csdn.net/weixin_42134789/article/details/81505963</p><h2 id=九疑问>九、疑问</h2><h3 id=q1dbsqlite3是什么>Q1：db.sqlite3是什么？</h3><p>A1：链接：<a class=link href=https://www.runoob.com/sqlite/sqlite-intro.html target=_blank rel=noopener>https://www.runoob.com/sqlite/sqlite-intro.html</a></p><p>SQLite是一个进程内的库，实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。它是一个零配置的数据库，这意味着与其他数据库一样，您不需要在系统中配置。就像其他数据库，SQLite 引擎不是一个独立的进程，可以按应用程序需求进行静态或动态连接。SQLite 直接访问其存储文件。</p><h3 id=q2项目和应用区别>Q2:项目和应用区别？</h3><p>A2：链接：<a class=link href=https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/ target=_blank rel=noopener>https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/</a></p><p>应用程序是执行某项操作的Web应用程序，例如Weblog系统，公共记录数据库或小型民意调查应用程序。</p><p>项目是特定网站的配置和应用程序的集合。一个项目可以包含多个应用程序。一个应用程序可以在多个项目中。</p><h3 id=q3pycharm提示unresolved-attribute-reference-objects-for-class-usermodel>Q3：Pycharm提示“Unresolved attribute reference &lsquo;objects&rsquo; for class &lsquo;UserModel&rsquo;”</h3><p>A3：You need to enable Django support. Go to</p><blockquote><p><strong>PyCharm -> Preferences -> Languages & Frameworks -> Django</strong></p></blockquote><p>and then check <em>Enable Django Support</em></p><h3 id=q4use_tz时区问题>Q4：USE_TZ时区问题</h3><blockquote><p><strong>datetime.datetime.now()、datetime.datetime.utcnow()与django.util.timezone.now()的区别</strong></p></blockquote><p>datetime.datetime.now()：
输出的永远是本地时间（naive time）与配置无任任何关系。</p><p>datetime.datetime.utcnow()：
如果setting中配置USE_TZ=True则输出的是UTC时间（naive time）;如果setting中配置USE_TZ=False，则该输出时间与datetime.datetime.now()完全相同。</p><p>django.util.timezone.now()：
如果setting中配置USE_TZ=True则输出的是UTC时间（active time），如果配置USE_TZ=False，则与datetime.datetime.now()完全相同。</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2023 Edrain’s Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>